var request = require('request-promise');

function requestWeatherInfo (apiKey, lat, lon) {
    console.log("mxd_stop_point_007");
    console.log('https://api.darksky.net/forecast/' + apiKey + '/' + lat + ',' + lon);
    return request({
        uri : 'https://api.darksky.net/forecast/' + apiKey + '/' + lat + ',' + lon,
        method : 'GET',
        qs : {
            exclude : 'currently,minutely,daily,flags',
            units : 'si'
        },
        json : true
    });
}

function parseWeatherInfo (info) {
    var highestRainChance = 0;
    var highestTemperature = Number.NEGATIVE_INFINITY;

    var hoursLeftInDay = 24 - (new Date()).getHours();
    var hourlyPredictions = Math.min(hoursLeftInDay, info.hourly.data.length);

    for (var i = 0; i < hourlyPredictions; i++) {
        var hourlyPrediction = info.hourly.data[i];

        var chanceOfRain = Math.round(hourlyPrediction.precipProbability * 100);
        highestRainChance = Math.max(highestRainChance, chanceOfRain);

        highestTemperature = Math.max(hourlyPrediction.apparentTemperature, highestTemperature);
    }

    return {
        summary : info.hourly.summary,
        temperature : highestTemperature,
        chanceOfRain : highestRainChance
    };
}
console.log("mxd_stop_point_003");

function getWeather (lat, lon) {
    console.log("mxd_stop_point_004");

    var apiKey = process.env.DARKSKY_APIKEY;
    if (!apiKey) {
        console.log('Need to set DARKSKY_APIKEY');
        throw new Error('Need to set DARKSKY_APIKEY');
    }
    console.log("mxd_stop_point_005");
    return requestWeatherInfo(apiKey,lat, lon)
        .then(function (response) {
            console.log("mxd_stop_point_006");
            return parseWeatherInfo(response);
        });
}

module.exports = {
    getWeather
};
/**
{
    "latitude": 26.3683,
    "longitude": 80.1289,
    "timezone": "Asia/Kolkata",
    "currently": {
        "time": 1564885051,
        "summary": "Humid and Overcast",
        "icon": "cloudy",
        "nearestStormDistance": 0,
        "precipIntensity": 0.0018,
        "precipProbability": 0.04,
        "precipType": "rain",
        "temperature": 83.98,
        "apparentTemperature": 92.86,
        "dewPoint": 76.04,
        "humidity": 0.77,
        "pressure": 997.59,
        "windSpeed": 4.94,
        "windGust": 9.48,
        "windBearing": 146,
        "cloudCover": 0.98,
        "uvIndex": 2,
        "visibility": 10,
        "ozone": 274.6
    },
    "hourly": {
        "summary": "Humid and overcast throughout the day.",
        "icon": "rain",
        "data": [{
            "time": 1564882200,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.002,
            "precipProbability": 0.05,
            "precipType": "rain",
            "temperature": 82.96,
            "apparentTemperature": 91.16,
            "dewPoint": 76.1,
            "humidity": 0.8,
            "pressure": 997.19,
            "windSpeed": 4.55,
            "windGust": 9.21,
            "windBearing": 149,
            "cloudCover": 0.96,
            "uvIndex": 1,
            "visibility": 10,
            "ozone": 273.8
        }, {
            "time": 1564885800,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0019,
            "precipProbability": 0.04,
            "precipType": "rain",
            "temperature": 84.35,
            "apparentTemperature": 93.45,
            "dewPoint": 76.02,
            "humidity": 0.76,
            "pressure": 997.67,
            "windSpeed": 5.02,
            "windGust": 9.5,
            "windBearing": 146,
            "cloudCover": 0.98,
            "uvIndex": 2,
            "visibility": 10,
            "ozone": 274.7
        }, {
            "time": 1564889400,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0044,
            "precipProbability": 0.05,
            "precipType": "rain",
            "temperature": 86,
            "apparentTemperature": 95.98,
            "dewPoint": 75.94,
            "humidity": 0.72,
            "pressure": 997.89,
            "windSpeed": 5.24,
            "windGust": 9.16,
            "windBearing": 141,
            "cloudCover": 0.99,
            "uvIndex": 3,
            "visibility": 10,
            "ozone": 274.8
        }, {
            "time": 1564893000,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0124,
            "precipProbability": 0.07,
            "precipType": "rain",
            "temperature": 87.19,
            "apparentTemperature": 97.68,
            "dewPoint": 75.87,
            "humidity": 0.69,
            "pressure": 997.86,
            "windSpeed": 5.2,
            "windGust": 8.21,
            "windBearing": 135,
            "cloudCover": 0.99,
            "uvIndex": 5,
            "visibility": 10,
            "ozone": 274.2
        }, {
            "time": 1564896600,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0218,
            "precipProbability": 0.1,
            "precipType": "rain",
            "temperature": 87.8,
            "apparentTemperature": 98.5,
            "dewPoint": 75.82,
            "humidity": 0.68,
            "pressure": 997.62,
            "windSpeed": 5.03,
            "windGust": 7.11,
            "windBearing": 127,
            "cloudCover": 0.99,
            "uvIndex": 5,
            "visibility": 10,
            "ozone": 273.4
        }, {
            "time": 1564900200,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0207,
            "precipProbability": 0.09,
            "precipType": "rain",
            "temperature": 88.1,
            "apparentTemperature": 98.88,
            "dewPoint": 75.79,
            "humidity": 0.67,
            "pressure": 997.14,
            "windSpeed": 4.72,
            "windGust": 6.15,
            "windBearing": 119,
            "cloudCover": 1,
            "uvIndex": 5,
            "visibility": 10,
            "ozone": 273.1
        }, {
            "time": 1564903800,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0099,
            "precipProbability": 0.06,
            "precipType": "rain",
            "temperature": 88.33,
            "apparentTemperature": 99.17,
            "dewPoint": 75.76,
            "humidity": 0.66,
            "pressure": 996.42,
            "windSpeed": 4.26,
            "windGust": 5.35,
            "windBearing": 112,
            "cloudCover": 1,
            "uvIndex": 5,
            "visibility": 10,
            "ozone": 273.2
        }, {
            "time": 1564907400,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0021,
            "precipProbability": 0.04,
            "precipType": "rain",
            "temperature": 88.69,
            "apparentTemperature": 99.62,
            "dewPoint": 75.72,
            "humidity": 0.66,
            "pressure": 995.61,
            "windSpeed": 3.82,
            "windGust": 4.65,
            "windBearing": 102,
            "cloudCover": 1,
            "uvIndex": 5,
            "visibility": 10,
            "ozone": 273.3
        }, {
            "time": 1564911000,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0,
            "precipProbability": 0,
            "temperature": 89.51,
            "apparentTemperature": 100.68,
            "dewPoint": 75.65,
            "humidity": 0.64,
            "pressure": 994.78,
            "windSpeed": 3.59,
            "windGust": 4.12,
            "windBearing": 91,
            "cloudCover": 1,
            "uvIndex": 4,
            "visibility": 10,
            "ozone": 273.4
        }, {
            "time": 1564914600,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0,
            "precipProbability": 0,
            "temperature": 90.84,
            "apparentTemperature": 102.34,
            "dewPoint": 75.53,
            "humidity": 0.61,
            "pressure": 993.95,
            "windSpeed": 3.56,
            "windGust": 3.84,
            "windBearing": 81,
            "cloudCover": 1,
            "uvIndex": 3,
            "visibility": 10,
            "ozone": 273.3
        }, {
            "time": 1564918200,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0,
            "precipProbability": 0,
            "temperature": 91.99,
            "apparentTemperature": 103.79,
            "dewPoint": 75.46,
            "humidity": 0.59,
            "pressure": 993.33,
            "windSpeed": 3.6,
            "windGust": 3.76,
            "windBearing": 73,
            "cloudCover": 1,
            "uvIndex": 1,
            "visibility": 10,
            "ozone": 273.1
        }, {
            "time": 1564921800,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0,
            "precipProbability": 0,
            "temperature": 91.88,
            "apparentTemperature": 103.74,
            "dewPoint": 75.54,
            "humidity": 0.59,
            "pressure": 993.26,
            "windSpeed": 3.64,
            "windGust": 3.8,
            "windBearing": 68,
            "cloudCover": 0.99,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 273.2
        }, {
            "time": 1564925400,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0,
            "precipProbability": 0,
            "temperature": 90.4,
            "apparentTemperature": 102.03,
            "dewPoint": 75.76,
            "humidity": 0.62,
            "pressure": 993.76,
            "windSpeed": 3.69,
            "windGust": 4.55,
            "windBearing": 67,
            "cloudCover": 0.97,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 273.4
        }, {
            "time": 1564929000,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0,
            "precipProbability": 0,
            "temperature": 88.61,
            "apparentTemperature": 99.86,
            "dewPoint": 76,
            "humidity": 0.66,
            "pressure": 994.41,
            "windSpeed": 3.73,
            "windGust": 5.89,
            "windBearing": 67,
            "cloudCover": 0.95,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 273.6
        }, {
            "time": 1564932600,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0,
            "precipProbability": 0,
            "temperature": 87.22,
            "apparentTemperature": 98.07,
            "dewPoint": 76.18,
            "humidity": 0.7,
            "pressure": 994.9,
            "windSpeed": 3.71,
            "windGust": 6.93,
            "windBearing": 67,
            "cloudCover": 0.94,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 273.7
        }, {
            "time": 1564936200,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0,
            "precipProbability": 0,
            "temperature": 86.35,
            "apparentTemperature": 96.92,
            "dewPoint": 76.31,
            "humidity": 0.72,
            "pressure": 995.22,
            "windSpeed": 3.62,
            "windGust": 7.55,
            "windBearing": 57,
            "cloudCover": 0.94,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 273.8
        }, {
            "time": 1564939800,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0,
            "precipProbability": 0,
            "temperature": 85.84,
            "apparentTemperature": 96.27,
            "dewPoint": 76.43,
            "humidity": 0.74,
            "pressure": 995.41,
            "windSpeed": 3.54,
            "windGust": 7.93,
            "windBearing": 54,
            "cloudCover": 0.94,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 273.8
        }, {
            "time": 1564943400,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0002,
            "precipProbability": 0.01,
            "precipType": "rain",
            "temperature": 85.49,
            "apparentTemperature": 95.8,
            "dewPoint": 76.51,
            "humidity": 0.75,
            "pressure": 995.38,
            "windSpeed": 3.58,
            "windGust": 8.07,
            "windBearing": 91,
            "cloudCover": 0.95,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 273.6
        }, {
            "time": 1564947000,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0005,
            "precipProbability": 0.02,
            "precipType": "rain",
            "temperature": 85.03,
            "apparentTemperature": 95.13,
            "dewPoint": 76.57,
            "humidity": 0.76,
            "pressure": 995.13,
            "windSpeed": 3.74,
            "windGust": 7.97,
            "windBearing": 133,
            "cloudCover": 0.96,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 273.5
        }, {
            "time": 1564950600,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0013,
            "precipProbability": 0.03,
            "precipType": "rain",
            "temperature": 84.42,
            "apparentTemperature": 94.12,
            "dewPoint": 76.57,
            "humidity": 0.77,
            "pressure": 994.88,
            "windSpeed": 3.9,
            "windGust": 7.65,
            "windBearing": 178,
            "cloudCover": 0.96,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 273.3
        }, {
            "time": 1564954200,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0049,
            "precipProbability": 0.08,
            "precipType": "rain",
            "temperature": 83.39,
            "apparentTemperature": 92.29,
            "dewPoint": 76.52,
            "humidity": 0.8,
            "pressure": 994.85,
            "windSpeed": 3.9,
            "windGust": 7.05,
            "windBearing": 202,
            "cloudCover": 0.95,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 273.5
        }, {
            "time": 1564957800,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0151,
            "precipProbability": 0.12,
            "precipType": "rain",
            "temperature": 82.17,
            "apparentTemperature": 89.96,
            "dewPoint": 76.41,
            "humidity": 0.83,
            "pressure": 995.05,
            "windSpeed": 3.75,
            "windGust": 6.17,
            "windBearing": 202,
            "cloudCover": 0.94,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 274
        }, {
            "time": 1564961400,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0279,
            "precipProbability": 0.15,
            "precipType": "rain",
            "temperature": 81.24,
            "apparentTemperature": 88.05,
            "dewPoint": 76.29,
            "humidity": 0.85,
            "pressure": 995.35,
            "windSpeed": 3.65,
            "windGust": 5.33,
            "windBearing": 200,
            "cloudCover": 0.92,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 274.6
        }, {
            "time": 1564965000,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0295,
            "precipProbability": 0.16,
            "precipType": "rain",
            "temperature": 81.21,
            "apparentTemperature": 87.93,
            "dewPoint": 76.2,
            "humidity": 0.85,
            "pressure": 995.72,
            "windSpeed": 3.82,
            "windGust": 4.93,
            "windBearing": 207,
            "cloudCover": 0.9,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 275.5
        }, {
            "time": 1564968600,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0191,
            "precipProbability": 0.14,
            "precipType": "rain",
            "temperature": 82.35,
            "apparentTemperature": 90.1,
            "dewPoint": 76.17,
            "humidity": 0.82,
            "pressure": 996.16,
            "windSpeed": 4.27,
            "windGust": 5,
            "windBearing": 221,
            "cloudCover": 0.89,
            "uvIndex": 1,
            "visibility": 10,
            "ozone": 276.5
        }, {
            "time": 1564972200,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0091,
            "precipProbability": 0.09,
            "precipType": "rain",
            "temperature": 84.43,
            "apparentTemperature": 93.69,
            "dewPoint": 76.13,
            "humidity": 0.76,
            "pressure": 996.56,
            "windSpeed": 4.6,
            "windGust": 5.11,
            "windBearing": 229,
            "cloudCover": 0.88,
            "uvIndex": 2,
            "visibility": 10,
            "ozone": 277.3
        }, {
            "time": 1564975800,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0044,
            "precipProbability": 0.06,
            "precipType": "rain",
            "temperature": 86.84,
            "apparentTemperature": 97.31,
            "dewPoint": 76,
            "humidity": 0.7,
            "pressure": 996.77,
            "windSpeed": 4.36,
            "windGust": 4.75,
            "windBearing": 220,
            "cloudCover": 0.89,
            "uvIndex": 4,
            "visibility": 10,
            "ozone": 277.6
        }, {
            "time": 1564979400,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0022,
            "precipProbability": 0.04,
            "precipType": "rain",
            "temperature": 88.7,
            "apparentTemperature": 99.77,
            "dewPoint": 75.82,
            "humidity": 0.66,
            "pressure": 996.81,
            "windSpeed": 3.48,
            "windGust": 3.92,
            "windBearing": 194,
            "cloudCover": 0.9,
            "uvIndex": 5,
            "visibility": 10,
            "ozone": 277.3
        }, {
            "time": 1564983000,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0012,
            "precipProbability": 0.03,
            "precipType": "rain",
            "temperature": 89.84,
            "apparentTemperature": 101.23,
            "dewPoint": 75.73,
            "humidity": 0.63,
            "pressure": 996.66,
            "windSpeed": 2.56,
            "windGust": 3.1,
            "windBearing": 161,
            "cloudCover": 0.93,
            "uvIndex": 5,
            "visibility": 10,
            "ozone": 276.7
        }, {
            "time": 1564986600,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0008,
            "precipProbability": 0.02,
            "precipType": "rain",
            "temperature": 90.47,
            "apparentTemperature": 102.17,
            "dewPoint": 75.79,
            "humidity": 0.62,
            "pressure": 996.25,
            "windSpeed": 2.25,
            "windGust": 2.75,
            "windBearing": 140,
            "cloudCover": 0.95,
            "uvIndex": 5,
            "visibility": 10,
            "ozone": 276
        }, {
            "time": 1564990200,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0004,
            "precipProbability": 0.03,
            "precipType": "rain",
            "temperature": 90.86,
            "apparentTemperature": 102.95,
            "dewPoint": 75.98,
            "humidity": 0.62,
            "pressure": 995.57,
            "windSpeed": 2.6,
            "windGust": 2.85,
            "windBearing": 142,
            "cloudCover": 0.97,
            "uvIndex": 5,
            "visibility": 10,
            "ozone": 275.3
        }, {
            "time": 1564993800,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0002,
            "precipProbability": 0.04,
            "precipType": "rain",
            "temperature": 91.25,
            "apparentTemperature": 103.7,
            "dewPoint": 76.15,
            "humidity": 0.61,
            "pressure": 994.83,
            "windSpeed": 3.06,
            "windGust": 3.11,
            "windBearing": 149,
            "cloudCover": 0.99,
            "uvIndex": 5,
            "visibility": 10,
            "ozone": 274.5
        }, {
            "time": 1564997400,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0,
            "precipProbability": 0,
            "temperature": 92.04,
            "apparentTemperature": 104.83,
            "dewPoint": 76.19,
            "humidity": 0.6,
            "pressure": 994.19,
            "windSpeed": 3.12,
            "windGust": 3.12,
            "windBearing": 152,
            "cloudCover": 1,
            "uvIndex": 4,
            "visibility": 10,
            "ozone": 273.9
        }, {
            "time": 1565001000,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0002,
            "precipProbability": 0.05,
            "precipType": "rain",
            "temperature": 93.14,
            "apparentTemperature": 106.2,
            "dewPoint": 76.12,
            "humidity": 0.58,
            "pressure": 993.66,
            "windSpeed": 2.79,
            "windGust": 2.83,
            "windBearing": 150,
            "cloudCover": 1,
            "uvIndex": 3,
            "visibility": 10,
            "ozone": 273.4
        }, {
            "time": 1565004600,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0002,
            "precipProbability": 0.04,
            "precipType": "rain",
            "temperature": 93.86,
            "apparentTemperature": 107.02,
            "dewPoint": 76.02,
            "humidity": 0.56,
            "pressure": 993.32,
            "windSpeed": 2.47,
            "windGust": 2.78,
            "windBearing": 142,
            "cloudCover": 1,
            "uvIndex": 1,
            "visibility": 10,
            "ozone": 273.2
        }, {
            "time": 1565008200,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0002,
            "precipProbability": 0.04,
            "precipType": "rain",
            "temperature": 93.38,
            "apparentTemperature": 106.33,
            "dewPoint": 75.98,
            "humidity": 0.57,
            "pressure": 993.38,
            "windSpeed": 2.53,
            "windGust": 3.8,
            "windBearing": 129,
            "cloudCover": 0.98,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 273.2
        }, {
            "time": 1565011800,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0,
            "precipProbability": 0,
            "temperature": 91.61,
            "apparentTemperature": 103.99,
            "dewPoint": 76,
            "humidity": 0.6,
            "pressure": 993.83,
            "windSpeed": 3.01,
            "windGust": 6.04,
            "windBearing": 113,
            "cloudCover": 0.93,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 273.6
        }, {
            "time": 1565015400,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0,
            "precipProbability": 0,
            "temperature": 89.51,
            "apparentTemperature": 101.18,
            "dewPoint": 76.05,
            "humidity": 0.65,
            "pressure": 994.39,
            "windSpeed": 3.67,
            "windGust": 8.51,
            "windBearing": 115,
            "cloudCover": 0.88,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 274
        }, {
            "time": 1565019000,
            "summary": "Humid and Mostly Cloudy",
            "icon": "partly-cloudy-night",
            "precipIntensity": 0,
            "precipProbability": 0,
            "temperature": 88.01,
            "apparentTemperature": 99.18,
            "dewPoint": 76.15,
            "humidity": 0.68,
            "pressure": 994.86,
            "windSpeed": 4.24,
            "windGust": 10.1,
            "windBearing": 124,
            "cloudCover": 0.86,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 274.3
        }, {
            "time": 1565022600,
            "summary": "Humid and Mostly Cloudy",
            "icon": "partly-cloudy-night",
            "precipIntensity": 0,
            "precipProbability": 0,
            "temperature": 87.18,
            "apparentTemperature": 98.18,
            "dewPoint": 76.32,
            "humidity": 0.7,
            "pressure": 995.22,
            "windSpeed": 4.65,
            "windGust": 10.81,
            "windBearing": 124,
            "cloudCover": 0.85,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 274.3
        }, {
            "time": 1565026200,
            "summary": "Humid and Mostly Cloudy",
            "icon": "partly-cloudy-night",
            "precipIntensity": 0,
            "precipProbability": 0,
            "temperature": 86.65,
            "apparentTemperature": 97.6,
            "dewPoint": 76.51,
            "humidity": 0.72,
            "pressure": 995.45,
            "windSpeed": 5.01,
            "windGust": 11.17,
            "windBearing": 162,
            "cloudCover": 0.86,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 274
        }, {
            "time": 1565029800,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0005,
            "precipProbability": 0.05,
            "precipType": "rain",
            "temperature": 86.09,
            "apparentTemperature": 96.92,
            "dewPoint": 76.67,
            "humidity": 0.74,
            "pressure": 995.43,
            "windSpeed": 5.44,
            "windGust": 11.51,
            "windBearing": 146,
            "cloudCover": 0.89,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 273.2
        }, {
            "time": 1565033400,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0027,
            "precipProbability": 0.06,
            "precipType": "rain",
            "temperature": 85.28,
            "apparentTemperature": 95.75,
            "dewPoint": 76.78,
            "humidity": 0.76,
            "pressure": 995.15,
            "windSpeed": 5.96,
            "windGust": 11.84,
            "windBearing": 123,
            "cloudCover": 0.94,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 271.8
        }, {
            "time": 1565037000,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.007,
            "precipProbability": 0.08,
            "precipType": "rain",
            "temperature": 84.28,
            "apparentTemperature": 94.15,
            "dewPoint": 76.85,
            "humidity": 0.78,
            "pressure": 994.86,
            "windSpeed": 6.35,
            "windGust": 12,
            "windBearing": 119,
            "cloudCover": 0.98,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 270.6
        }, {
            "time": 1565040600,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.012,
            "precipProbability": 0.12,
            "precipType": "rain",
            "temperature": 82.97,
            "apparentTemperature": 91.83,
            "dewPoint": 76.87,
            "humidity": 0.82,
            "pressure": 994.75,
            "windSpeed": 6.21,
            "windGust": 11.8,
            "windBearing": 96,
            "cloudCover": 1,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 270.1
        }, {
            "time": 1565044200,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0183,
            "precipProbability": 0.17,
            "precipType": "rain",
            "temperature": 81.61,
            "apparentTemperature": 89.19,
            "dewPoint": 76.83,
            "humidity": 0.85,
            "pressure": 994.83,
            "windSpeed": 5.5,
            "windGust": 11.25,
            "windBearing": 47,
            "cloudCover": 1,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 270.5
        }, {
            "time": 1565047800,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0256,
            "precipProbability": 0.21,
            "precipType": "rain",
            "temperature": 80.67,
            "apparentTemperature": 87.56,
            "dewPoint": 76.83,
            "humidity": 0.88,
            "pressure": 995.04,
            "windSpeed": 4.87,
            "windGust": 10.75,
            "windBearing": 29,
            "cloudCover": 1,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 271.1
        }, {
            "time": 1565051400,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.03,
            "precipProbability": 0.24,
            "precipType": "rain",
            "temperature": 80.74,
            "apparentTemperature": 87.85,
            "dewPoint": 77.01,
            "humidity": 0.88,
            "pressure": 995.38,
            "windSpeed": 5.09,
            "windGust": 10.82,
            "windBearing": 79,
            "cloudCover": 1,
            "uvIndex": 0,
            "visibility": 10,
            "ozone": 271.8
        }, {
            "time": 1565055000,
            "summary": "Humid and Overcast",
            "icon": "cloudy",
            "precipIntensity": 0.0323,
            "precipProbability": 0.25,
            "precipType": "rain",
            "temperature": 82.04,
            "apparentTemperature": 90.47,
            "dewPoint": 77.33,
            "humidity": 0.86,
            "pressure": 995.87,
            "windSpeed": 6.15,
            "windGust": 11.46,
            "windBearing": 73,
            "cloudCover": 1,
            "uvIndex": 1,
            "visibility": 10,
            "ozone": 272.5
        }]
    },
    "daily": {
        "summary": "Light rain throughout the week, with high temperatures falling to 87Â°F on Tuesday.",
        "icon": "rain",
        "data": [{
            "time": 1564857000,
            "summary": "Humid and overcast throughout the day.",
            "icon": "rain",
            "sunriseTime": 1564877247,
            "sunsetTime": 1564925183,
            "moonPhase": 0.14,
            "precipIntensity": 0.0042,
            "precipIntensityMax": 0.0218,
            "precipIntensityMaxTime": 1564896600,
            "precipProbability": 0.32,
            "precipType": "rain",
            "temperatureHigh": 91.99,
            "temperatureHighTime": 1564918200,
            "temperatureLow": 81.21,
            "temperatureLowTime": 1564965000,
            "apparentTemperatureHigh": 103.79,
            "apparentTemperatureHighTime": 1564918200,
            "apparentTemperatureLow": 87.93,
            "apparentTemperatureLowTime": 1564965000,
            "dewPoint": 76.11,
            "humidity": 0.72,
            "pressure": 995.99,
            "windSpeed": 4.14,
            "windGust": 14.59,
            "windGustTime": 1564860600,
            "windBearing": 119,
            "cloudCover": 0.97,
            "uvIndex": 5,
            "uvIndexTime": 1564900200,
            "visibility": 10,
            "ozone": 272.4,
            "temperatureMin": 81.01,
            "temperatureMinTime": 1564871400,
            "temperatureMax": 91.99,
            "temperatureMaxTime": 1564918200,
            "apparentTemperatureMin": 87.93,
            "apparentTemperatureMinTime": 1564871400,
            "apparentTemperatureMax": 103.79,
            "apparentTemperatureMaxTime": 1564918200
        }, {
            "time": 1564943400,
            "summary": "Possible light rain in the morning.",
            "icon": "rain",
            "sunriseTime": 1564963678,
            "sunsetTime": 1565011543,
            "moonPhase": 0.17,
            "precipIntensity": 0.0047,
            "precipIntensityMax": 0.0295,
            "precipIntensityMaxTime": 1564965000,
            "precipProbability": 0.37,
            "precipType": "rain",
            "temperatureHigh": 93.86,
            "temperatureHighTime": 1565004600,
            "temperatureLow": 80.67,
            "temperatureLowTime": 1565047800,
            "apparentTemperatureHigh": 107.02,
            "apparentTemperatureHighTime": 1565004600,
            "apparentTemperatureLow": 87.56,
            "apparentTemperatureLowTime": 1565047800,
            "dewPoint": 76.19,
            "humidity": 0.7,
            "pressure": 995.19,
            "windSpeed": 3.62,
            "windGust": 11.51,
            "windGustTime": 1565029800,
            "windBearing": 169,
            "cloudCover": 0.93,
            "uvIndex": 5,
            "uvIndexTime": 1564986600,
            "visibility": 10,
            "ozone": 274.7,
            "temperatureMin": 81.21,
            "temperatureMinTime": 1564965000,
            "temperatureMax": 93.86,
            "temperatureMaxTime": 1565004600,
            "apparentTemperatureMin": 87.93,
            "apparentTemperatureMinTime": 1564965000,
            "apparentTemperatureMax": 107.02,
            "apparentTemperatureMaxTime": 1565004600
        }, {
            "time": 1565029800,
            "summary": "Possible light rain and humid throughout the day.",
            "icon": "rain",
            "sunriseTime": 1565050108,
            "sunsetTime": 1565097901,
            "moonPhase": 0.21,
            "precipIntensity": 0.0251,
            "precipIntensityMax": 0.0528,
            "precipIntensityMaxTime": 1565080200,
            "precipProbability": 0.91,
            "precipType": "rain",
            "temperatureHigh": 87.25,
            "temperatureHighTime": 1565091000,
            "temperatureLow": 78.06,
            "temperatureLowTime": 1565134200,
            "apparentTemperatureHigh": 100.73,
            "apparentTemperatureHighTime": 1565091000,
            "apparentTemperatureLow": 79.87,
            "apparentTemperatureLowTime": 1565134200,
            "dewPoint": 77.59,
            "humidity": 0.81,
            "pressure": 995.72,
            "windSpeed": 6.17,
            "windGust": 17.49,
            "windGustTime": 1565112600,
            "windBearing": 105,
            "cloudCover": 0.99,
            "uvIndex": 5,
            "uvIndexTime": 1565076600,
            "visibility": 9.97,
            "ozone": 271.6,
            "temperatureMin": 80.42,
            "temperatureMinTime": 1565116200,
            "temperatureMax": 87.25,
            "temperatureMaxTime": 1565091000,
            "apparentTemperatureMin": 85.79,
            "apparentTemperatureMinTime": 1565116200,
            "apparentTemperatureMax": 100.73,
            "apparentTemperatureMaxTime": 1565091000
        }, {
            "time": 1565116200,
            "summary": "Possible light rain until evening.",
            "icon": "rain",
            "sunriseTime": 1565136539,
            "sunsetTime": 1565184258,
            "moonPhase": 0.25,
            "precipIntensity": 0.0104,
            "precipIntensityMax": 0.0322,
            "precipIntensityMaxTime": 1565177400,
            "precipProbability": 0.79,
            "precipType": "rain",
            "temperatureHigh": 90.1,
            "temperatureHighTime": 1565166600,
            "temperatureLow": 77.17,
            "temperatureLowTime": 1565217000,
            "apparentTemperatureHigh": 103.89,
            "apparentTemperatureHighTime": 1565166600,
            "apparentTemperatureLow": 79.21,
            "apparentTemperatureLowTime": 1565217000,
            "dewPoint": 76.71,
            "humidity": 0.82,
            "pressure": 995.6,
            "windSpeed": 5.6,
            "windGust": 16.48,
            "windGustTime": 1565116200,
            "windBearing": 105,
            "cloudCover": 1,
            "uvIndex": 5,
            "uvIndexTime": 1565159400,
            "visibility": 10,
            "ozone": 271.3,
            "temperatureMin": 78.06,
            "temperatureMinTime": 1565134200,
            "temperatureMax": 90.1,
            "temperatureMaxTime": 1565166600,
            "apparentTemperatureMin": 79.87,
            "apparentTemperatureMinTime": 1565134200,
            "apparentTemperatureMax": 103.89,
            "apparentTemperatureMaxTime": 1565166600
        }, {
            "time": 1565202600,
            "summary": "Possible light rain until morning, starting again in the evening.",
            "icon": "rain",
            "sunriseTime": 1565222969,
            "sunsetTime": 1565270615,
            "moonPhase": 0.28,
            "precipIntensity": 0.0076,
            "precipIntensityMax": 0.0208,
            "precipIntensityMaxTime": 1565242200,
            "precipProbability": 0.74,
            "precipType": "rain",
            "temperatureHigh": 89.25,
            "temperatureHighTime": 1565249400,
            "temperatureLow": 78.31,
            "temperatureLowTime": 1565299800,
            "apparentTemperatureHigh": 101.35,
            "apparentTemperatureHighTime": 1565249400,
            "apparentTemperatureLow": 81.36,
            "apparentTemperatureLowTime": 1565299800,
            "dewPoint": 76.69,
            "humidity": 0.83,
            "pressure": 994.98,
            "windSpeed": 6.68,
            "windGust": 18.92,
            "windGustTime": 1565289000,
            "windBearing": 68,
            "cloudCover": 0.97,
            "uvIndex": 5,
            "uvIndexTime": 1565245800,
            "visibility": 9.937,
            "ozone": 271.8,
            "temperatureMin": 77.17,
            "temperatureMinTime": 1565217000,
            "temperatureMax": 89.25,
            "temperatureMaxTime": 1565249400,
            "apparentTemperatureMin": 79.21,
            "apparentTemperatureMinTime": 1565217000,
            "apparentTemperatureMax": 101.35,
            "apparentTemperatureMaxTime": 1565249400
        }, {
            "time": 1565289000,
            "summary": "Possible light rain in the morning.",
            "icon": "rain",
            "sunriseTime": 1565309400,
            "sunsetTime": 1565356970,
            "moonPhase": 0.32,
            "precipIntensity": 0.0045,
            "precipIntensityMax": 0.0188,
            "precipIntensityMaxTime": 1565299800,
            "precipProbability": 0.62,
            "precipType": "rain",
            "temperatureHigh": 93.09,
            "temperatureHighTime": 1565350200,
            "temperatureLow": 78.55,
            "temperatureLowTime": 1565393400,
            "apparentTemperatureHigh": 106.54,
            "apparentTemperatureHighTime": 1565350200,
            "apparentTemperatureLow": 82.07,
            "apparentTemperatureLowTime": 1565393400,
            "dewPoint": 76.76,
            "humidity": 0.78,
            "pressure": 994.63,
            "windSpeed": 8.8,
            "windGust": 28.97,
            "windGustTime": 1565371800,
            "windBearing": 116,
            "cloudCover": 0.87,
            "uvIndex": 5,
            "uvIndexTime": 1565332200,
            "visibility": 10,
            "ozone": 269.8,
            "temperatureMin": 78.31,
            "temperatureMinTime": 1565299800,
            "temperatureMax": 93.09,
            "temperatureMaxTime": 1565350200,
            "apparentTemperatureMin": 81.36,
            "apparentTemperatureMinTime": 1565299800,
            "apparentTemperatureMax": 106.54,
            "apparentTemperatureMaxTime": 1565350200
        }, {
            "time": 1565375400,
            "summary": "Possible light rain overnight.",
            "icon": "rain",
            "sunriseTime": 1565395830,
            "sunsetTime": 1565443324,
            "moonPhase": 0.35,
            "precipIntensity": 0.0047,
            "precipIntensityMax": 0.0234,
            "precipIntensityMaxTime": 1565447400,
            "precipProbability": 0.39,
            "precipType": "rain",
            "temperatureHigh": 93.55,
            "temperatureHighTime": 1565418600,
            "temperatureLow": 79.44,
            "temperatureLowTime": 1565483400,
            "apparentTemperatureHigh": 108.11,
            "apparentTemperatureHighTime": 1565422200,
            "apparentTemperatureLow": 84.47,
            "apparentTemperatureLowTime": 1565483400,
            "dewPoint": 77.1,
            "humidity": 0.75,
            "pressure": 995.45,
            "windSpeed": 7.82,
            "windGust": 28.38,
            "windGustTime": 1565375400,
            "windBearing": 150,
            "cloudCover": 0.72,
            "uvIndex": 6,
            "uvIndexTime": 1565418600,
            "visibility": 10,
            "ozone": 270,
            "temperatureMin": 78.55,
            "temperatureMinTime": 1565393400,
            "temperatureMax": 93.55,
            "temperatureMaxTime": 1565418600,
            "apparentTemperatureMin": 82.07,
            "apparentTemperatureMinTime": 1565393400,
            "apparentTemperatureMax": 108.11,
            "apparentTemperatureMaxTime": 1565422200
        }, {
            "time": 1565461800,
            "summary": "Possible light rain until morning, starting again in the evening.",
            "icon": "rain",
            "sunriseTime": 1565482260,
            "sunsetTime": 1565529677,
            "moonPhase": 0.38,
            "precipIntensity": 0.0221,
            "precipIntensityMax": 0.0548,
            "precipIntensityMaxTime": 1565533800,
            "precipProbability": 0.77,
            "precipType": "rain",
            "temperatureHigh": 93.03,
            "temperatureHighTime": 1565515800,
            "temperatureLow": 77.45,
            "temperatureLowTime": 1565566200,
            "apparentTemperatureHigh": 108.17,
            "apparentTemperatureHighTime": 1565519400,
            "apparentTemperatureLow": 79.48,
            "apparentTemperatureLowTime": 1565566200,
            "dewPoint": 77.3,
            "humidity": 0.78,
            "pressure": 996.65,
            "windSpeed": 6.12,
            "windGust": 14.95,
            "windGustTime": 1565548200,
            "windBearing": 174,
            "cloudCover": 0.87,
            "uvIndex": 8,
            "uvIndexTime": 1565508600,
            "visibility": 10,
            "ozone": 267.9,
            "temperatureMin": 79.44,
            "temperatureMinTime": 1565483400,
            "temperatureMax": 93.03,
            "temperatureMaxTime": 1565515800,
            "apparentTemperatureMin": 84.47,
            "apparentTemperatureMinTime": 1565483400,
            "apparentTemperatureMax": 108.17,
            "apparentTemperatureMaxTime": 1565519400
        }]
    },
    "flags": {
        "sources": ["cmc", "gfs", "icon", "isd", "madis"],
        "units": "us"
    },
    "offset": 5.5
}
*/
